<a name="top"></a>
# Squeakuences
1. [Introduction](#intro)
2. [Running Squeakuences](#running)
3. [Arguments](#arguments)
4. [Examples](#examples)

## <ins>**Introduction**</ins> <a name="intro"></a>
Squeakuences (squeaky-clean sequences) is a python program designed to preproccess DNA sequence datasets to identify and remove formatting issues that are prone to cause problems in common bioinformatics workflows. 

Squeakuences can process one or more fasta files at a time and generates two output files in its default mode for each fasta file processed. The first output file always produced is a tsv file which lists each sequence id before and after it was cleaned by Squeakuences. The second file is a new fasta file which contains the sequences of the original fasta file but with the cleaned sequence ids. 


Additional features include: 
  - Log file generation to provide processing insight
  - Preview mode to sample cleaned sequences prior to running full script
  - Customizable cleaning and formatting
  - Step by step view of sequence cleaning


## <ins>**Running Squeakuences**</ins> <a name="running"></a>
Squeakuences utilizes a command line interface. It does not have any dependencies outside of Python, so it can simply be run in your shell. See the next section for argument requirements and descriptions.

## <ins>**Arguments**</ins> <a name="arguments"></a>
These arguments can also be referenced in your command line using the -h flag.
```bash
python3 squeakuences -h
```
| Short flag | Long flag         | Description | Required? | Default value |
|------------|-------------------|-------------|-----------|---------------|
| -s         | --sidebyside          | When activated, Squeakuences will print the result of each cleaning step for one sequence id provided after the -s flag. The sequence after the -s flag should not include the '>' character and be surrounded by single or double quotes. Any -i, -o, or -p flags included in the command when this mode is activated will be ignored. | No | False |
| -p         | --preview          | When activated, Squeakuences will generate a preview of 10 cleaned sequences from the top of each input file without writing any ouput. Hence, the -i flag is required in this mode but not the -o flag. | No | False |
| -i         | --input           | Path to fasta file(s) to clean. You can provide the path to a single fasta file or a directory containing multiple fasta files. Squeakuences will not search subdirectories. This can be the full path or relative to the squeakuences.py file location. | Yes, execpt when the -s is activated | None |
| -e         | --fileExt          | When activated, Squeakuences will collect files with the provided extension(s). To collect files with multiple extensions, simply list them behind each other such as ".fa .fna". Include the dot in your argument, such as ".fna" | No | ['.fa*'] |
| -o         | --output          | Path to output folder where files generated by Squeakuences will be written. This can be the full path or relative to the squeakuences.py file location. If this directory path does not exist at runtime, Squeakuences will create it for you. | Yes, except when -p or -s modes are activated | None |
| -l         | --log          | When activated, Squeakuences will generate a log file with processing info from each fasta file cleaned. | No | NA |
| -c         | --chopMethod       | When activated, Squeakuences will use the specified shortening method. This flag will accept three inputs: 'words', 'chars', and 'skip'. The 'words' method will remove words detected by spaces when shortening sequence ids. The 'chars' method will remove characters without considering potential words. 'skip' will not shorten sequence ids during the cleaning process. | No | 'words' |
| -m         | --chopMax          | When activated, Squeakuences will set the maximum character length of cleaned sequence ids to this integer. | No | 70 |
| -f         | --addFileName          | When activated, Squeakuences will add the file name to the beginning of all sequences cleaned. | No | NA |
| -u         | --underscore          | When activated, Squeakuences will replace whitespace (spaces and tabs) and non-alphanumeric characters with an underscore. | No | False |
| -x         | --ignore          | When activated, Squeakuences will ignore the provided specifed characters during cleaning and leave them in any cleaned sequence ids. Please provide the characters you would like to leave in sequence ids in single or double quotes such as "-,()". The underscore character must be at the front of your input string. | No | None |
| -r         | --retain          | When activated, Squeakuences will retain tag information in the sequence id such as "locus=abc123". The information in this tag will not be cleaned and appended to the end of the cleaned sequence id. Pass in the tag name in the format of -r 'locus='. Cleaned sequence id may exceed character limit. Length check occurs before tag is appended. | No | None |

## <ins>**Examples**</ins> <a name="examples"></a>
Single File:
```bash
python3 squeakuences -i species.fa -o squeakuences_OUT 
```

Directory:
```bash
python3 squeakuences -i my_fastas -o squeakuences_OUT -l
```

Directory with specified file extensions:
```bash
python3 squeakuences -i my_fastas -o squeakuences_OUT -e .fna .fasta
```

Directory with preview mode, whitespace/character replacement with underscores, and ignore character flags activated:
```bash
python3 squeakuences -i my_fastas -o squeakuences_OUT -p -u -x '.-[]'
```

[Back to Top](#top)
